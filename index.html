<!DOCTYPE html>
    <html lang="en">
    <head>
        <title>My Webpage</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="pokemon.js"></script>
        </head>
        <body>
            <form>
                <input type="radio" id="difficulty-easy" name="difficulty" value="Easy" />
                <label for="difficulty-easy">Easy</label>
                <input type="radio" id="difficulty-medium" name="difficulty" value="Medium" />
                <label for="difficulty-medium">Medium</label>
                <input type="radio" id="difficulty-hard" name="difficulty" value="Hard" />
                <label for="difficulty-hard">Hard</label>
                <input type="submit" id="start-button" value="Loading..." disabled /> <!-- TODO: Add onclick handler to start game -->
            </form>
        </body>
        <script>
            var poke_count = undefined;
            var pokemon = undefined;
            var fact_pool = [];
            var is_ready = false;
            var difficulty = undefined;
            var start_button = undefined;
            
            $(document).ready() // Run when the document is ready
            {
                start_button = document.getElementById("start-button");
                start_button.addEventListener("submit", (e) => {
                    e.preventDefault();
                    start_game();
                    let diff = document.getElementsByName('difficulty');
                    for (let i = 0; i < diff.length; i++) {
                        if (diff[i].checked) {
                            switch(diff[i].id)
                            {
                                case "difficulty-easy":
                                    difficulty = 1;
                                    break;
                                case "difficulty-medium":
                                    difficulty = 2;
                                    break;
                                case "difficulty-hard":
                                    difficulty = 3;
                                    break;
                                default:
                                    difficulty = undefined;
                                    break;
                            }
                        }
                    }
                    if (difficulty !== undefined)
                    {
                        start_game(difficulty);
                    }
                });
                start_button.addEventListener("click", start_game)
                start_button.innerText = "Loading...";
                console.log("Beginning initial load...");
                console.log("Getting pokemon count...");
                poke_count = get_pokemon_count();
                console.log("Fetching a random pokemon...");
                pokemon = get_random_pokemon(poke_count);
                console.log("Generating fact pool...");
                fact_pool = pokemon.get_random_facts(2);
                console.log("Selecting fact pool...");
                console.log("Game is ready!");
                is_ready = true;
                start_button.innerText = "Start Game";
                start_button.disabled = false;
            }
            
            function start_game(difficulty)
            {
                console.log("Weee!");
            }

        </script>
    </html>
